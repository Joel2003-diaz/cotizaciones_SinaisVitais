<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Cotizaciones - Cl√≠nica Sinais Vitais</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Solo formulario (sin vista previa) -->
        <div class="form-container">
            <h1 class="main-title">üìã Generador de Cotizaciones</h1>
            <h2 class="section-title">Cl√≠nica Regional de Especialistas Sinais Vitais S.A.S</h2>
            
            <form id="cotizacionForm">
                <!-- Informaci√≥n b√°sica (para Google Sheets) -->
                <div class="form-section">
                    <h3>Informaci√≥n Principal *</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="N_CONSECUTIVO">N¬∞ Cotizaci√≥n *</label>
                            <input type="text" id="N_CONSECUTIVO" name="N_CONSECUTIVO" required 
                                placeholder="Ej: 1524" maxlength="10">
                        </div>
                        
                        <div class="form-group">
                            <label for="FECHA_COTIZACION">Fecha *</label>
                            <input type="date" id="FECHA_COTIZACION" name="FECHA_COTIZACION" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="TIPO_DOCUMENTO">Tipo Documento *</label>
                            <select id="TIPO_DOCUMENTO" name="TIPO_DOCUMENTO" required>
                                <option value="CC">C√©dula de Ciudadan√≠a (CC)</option>
                                <option value="TI">Tarjeta de Identidad (TI)</option>
                                <option value="CE">C√©dula de Extranjer√≠a (CE)</option>
                                <option value="PT">Permiso por protecci√≥n temporal (PT)</option>
                                <option value="RC">Registro Civil (RC)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="DOCUMENTO">N¬∞ Documento *</label>
                            <input type="text" id="DOCUMENTO" name="DOCUMENTO" required 
                                placeholder="N√∫mero de documento">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="NOMBRES">Nombres Paciente *</label>
                            <input type="text" id="NOMBRES" name="NOMBRES" required 
                                placeholder="Apellidos y Nombres">
                        </div>
                        
                        <div class="form-group">
                            <label for="SEXO">Sexo *</label>
                            <select id="SEXO" name="SEXO" required>
                                <option value="M">Masculino (M)</option>
                                <option value="F">Femenino (F)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="EMPRESA">EPS / Empresa *</label>
                            <input type="text" id="EMPRESA" name="EMPRESA" required 
                                placeholder="Nombre de la EPS">
                        </div>
                        
                        <div class="form-group">
                            <label for="ESPECIALIDAD">Especialidad *</label>
                            <select id="especialidad_select" name="especialidad_select" required>
                                <option value="">Selecciona una especialidad</option>
                                <option value="CIRUGIA MAXILOFACIAL">CIRUGIA MAXILOFACIAL</option>
                                <option value="ORTOPEDIA">ORTOPEDIA</option>
                                <option value="CIRUGIA PLASTICA">CIRUGIA PLASTICA</option>
                                <option value="NEUROCIRUGIA">NEUROCIRUGIA</option>
                                <option value="CIRUGIA DE TORAX">CIRUGIA DE TORAX</option>
                                <option value="CIRUGIA GENERAL">CIRUGIA GENERAL</option>
                                <option value="GASTROENTEROLOGIA">GASTROENTEROLOGIA</option>
                                <option value="UROLOGIA">UROLOGIA</option>
                                <option value="GINECOLOGIA">GINECOLOGIA</option>
                                <option value="INTENSIVISTA">INTENSIVISTA</option>
                                <option value="MEDICINA INTERNA">MEDICINA INTERNA</option>
                                </select>
                        </div>
                    </div>
                    
                    <!-- OBSERVACI√ìN ADICIONAL (SOLO GOOGLE SHEETS) -->
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="OBSERVACION_ADICIONAL">Observaci√≥n Adicional (Solo para Google Sheets)</label>
                            <textarea id="OBSERVACION_ADICIONAL" name="OBSERVACION_ADICIONAL" rows="2" 
                                    placeholder="Esta observaci√≥n solo se guardar√° en Google Sheets, no aparecer√° en el PDF"></textarea>
                        </div>
                    </div>
                </div>

                <!-- PRODUCTOS / SERVICIOS -->
                <div class="form-section" id="productosSection">
                    <div class="section-header">
                        <h3>Productos / Servicios</h3>
                        <button type="button" id="agregarProductoBtn" class="btn btn-success btn-sm">
                            ‚ûï Agregar Producto
                        </button>
                    </div>
                    
                    <div id="productosContainer">
                        <!-- Producto 1 -->
                        <div class="producto-item" data-index="0">
                            <div class="producto-header">
                                <span>Producto #1</span>
                                <button type="button" class="btn-eliminar-producto btn-danger btn-sm" data-index="0">
                                    ‚úñ Eliminar
                                </button>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <label for="SERVICIO_COTIZADO_0">Descripci√≥n *</label>
                                    <input type="text" class="servicio-cotizado" name="SERVICIO_COTIZADO[]" required 
                                        placeholder="Descripci√≥n del servicio" data-index="0">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="CANTIDAD_0">Cantidad *</label>
                                    <input type="number" class="cantidad" name="CANTIDAD[]" min="1" value="1" required 
                                        placeholder="Cantidad" data-index="0">
                                </div>
                                
                                <div class="form-group">
                                    <label for="VALOR_0">Valor Unitario *</label>
                                    <input type="number" class="valor-unitario" name="VALOR[]" min="0" step="1" required 
                                        placeholder="$" data-index="0">
                                </div>
                                
                                <div class="form-group">
                                    <label for="PORCENTAJE_DESCUENTO_0">% Descuento *</label>
                                    <input type="number" class="porcentaje-descuento" name="PORCENTAJE_DESCUENTO[]" 
                                        min="0" max="100" step="0.1" value="0" required data-index="0">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Totales -->
                    <div class="totales-section">
                        <div class="total-row">
                            <span>Subtotal:</span>
                            <span id="subtotal">$ 0</span>
                        </div>
                        <div class="total-row">
                            <span>Descuento Total:</span>
                            <span id="descuento-total">$ 0</span>
                        </div>
                        <div class="total-row total-final">
                            <span>TOTAL:</span>
                            <span id="total-final">$ 0</span>
                        </div>
                    </div>
                </div>

                <!-- Informaci√≥n adicional (solo para PDF) -->
                <div class="form-section pdf-only">
                    <h3>Informaci√≥n Adicional (Solo PDF)</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="TELEFONO">Tel√©fono</label>
                            <input type="tel" id="TELEFONO" name="TELEFONO" 
                                placeholder="Ej: 3106723072">
                        </div>
                        
                        <div class="form-group">
                            <label for="ADMISION">N¬∞ Admisi√≥n</label>
                            <input type="text" id="ADMISION" name="ADMISION" 
                                placeholder="N√∫mero de admisi√≥n">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="DIRECCION">Direcci√≥n</label>
                            <input type="text" id="DIRECCION" name="DIRECCION" 
                                placeholder="Calle, n√∫mero, barrio">
                        </div>
                        
                        <div class="form-group">
                            <label for="CIUDAD">Ciudad</label>
                            <input type="text" id="CIUDAD" name="CIUDAD" 
                                placeholder="Ej: BOSCONIA">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="DEPARTAMENTO">Departamento</label>
                            <input type="text" id="DEPARTAMENTO" name="DEPARTAMENTO" 
                                placeholder="Ej: CESAR">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="OBSERVACION_GENERAL">Observaci√≥n General (Para PDF) *</label>
                            <textarea id="OBSERVACION_GENERAL" name="OBSERVACION_GENERAL" rows="3" required 
                                    placeholder="Esta observaci√≥n aparecer√° en el PDF"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Botones de acci√≥n -->
                <div class="action-buttons">
                    <button type="button" id="vaciarFormulario" class="btn btn-secondary">
                        üóëÔ∏è Vaciar Todo
                    </button>
                    <button type="button" id="guardarImprimirBtn" class="btn btn-success">
                        üíæ Guardar + PDF
                    </button>
                    <button type="button" id="imprimirBtn" class="btn btn-primary" disabled>
                        üñ®Ô∏è Solo Imprimir
                    </button>
                    <button type="button" id="descargarPdfBtn" class="btn btn-primary" disabled>
                        üì• Solo PDF
                    </button>
                </div>
                
                <div id="responseMessage" class="response-message"></div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>


