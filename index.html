<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Cotizaciones - Cl√≠nica Sinais Vitais</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Solo formulario (sin vista previa) -->
        <div class="form-container">
            <h1 class="main-title">üìã Generador de Cotizaciones</h1>
            <h2 class="section-title">Cl√≠nica Regional de Especialistas Sinais Vitais S.A.S</h2>
            
            <form id="cotizacionForm">
                <!-- Informaci√≥n b√°sica (para Google Sheets) -->
                <div class="form-section">
                    <h3>Informaci√≥n Principal *</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="N_CONSECUTIVO">N¬∞ Cotizaci√≥n *</label>
                            <input type="text" id="N_CONSECUTIVO" name="N_CONSECUTIVO" required 
                                placeholder="Ej: 1524" maxlength="10">
                        </div>
                        
                        <div class="form-group">
                            <label for="FECHA_COTIZACION">Fecha *</label>
                            <input type="date" id="FECHA_COTIZACION" name="FECHA_COTIZACION" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="TIPO_DOCUMENTO">Tipo Documento *</label>
                            <select id="TIPO_DOCUMENTO" name="TIPO_DOCUMENTO" required>
                                <option value="CC">C√©dula de Ciudadan√≠a (CC)</option>
                                <option value="TI">Tarjeta de Identidad (TI)</option>
                                <option value="CE">C√©dula de Extranjer√≠a (CE)</option>
                                <option value="PT">Permiso por protecci√≥n temporal (PT)</option>
                                <option value="RC">Registro Civil (RC)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="DOCUMENTO">N¬∞ Documento *</label>
                            <input type="text" id="DOCUMENTO" name="DOCUMENTO" required 
                                placeholder="N√∫mero de documento">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="NOMBRES">Nombres Paciente *</label>
                            <input type="text" id="NOMBRES" name="NOMBRES" required 
                                placeholder="Apellidos y Nombres">
                        </div>
                        
                        <div class="form-group">
                            <label for="SEXO">Sexo *</label>
                            <select id="SEXO" name="SEXO" required>
                                <option value="M">Masculino (M)</option>
                                <option value="F">Femenino (F)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="EMPRESA">EPS / Empresa *</label>
                            <select id="eps_select" name="eps_select" required>
                                <option value="">Selecciona una EPS</option>
                                <option value="DUSAKAWI EPS-I">DUSAKAWI EPS-I</option>
                                <option value="ENTIDAD PROMOTORA DE SALUD SANITAS S.A.S">ENTIDAD PROMOTORA DE SALUD SANITAS S.A.S</option>
                                <option value="EPS SURAMERICANA S.A">EPS SURAMERICANA S.A</option>
                                <option value="COLMENA RIESGOS PROFESIONALES S.A.">COLMENA RIESGOS PROFESIONALES S.A.</option>
                                <option value="FIDEICOMISOS PATRIMONIOS AUTON√ìMOS FIDUCIARIA LA PREVISORA S.A.">FIDEICOMISOS PATRIMONIOS AUTON√ìMOS FIDUCIARIA LA PREVISORA S.A.</option>
                                <option value="GOBERNACION DEL CESAR (SEC DE SALUD)">GOBERNACION DEL CESAR (SEC DE SALUD)</option>
                                <option value="AXA COLPATRIA SEGUROS DE VIDA S.A">AXA COLPATRIA SEGUROS DE VIDA S.A</option>
                                <option value="EPS Familiar De Colombia S.A.S">EPS Familiar De Colombia S.A.S</option>
                                <option value="SUMIMEDICAL SAS">SUMIMEDICAL SAS</option>
                                <option value="MUTUAL SER">MUTUAL SER</option>
                                <option value="PARTICULAR">PARTICULAR</option>
                                <option value="ASMET SALUD">ASMET SALUD</option>
                                <option value="COOSALUD ENTIDAD PROMOTORA DE SALUD S.A">COOSALUD ENTIDAD PROMOTORA DE SALUD S.A</option>
                                <option value="SALUD TOTAL EPS - S.SA.">SALUD TOTAL EPS - S.SA.</option>
                                <option value="CAJACOPI EPS S.A.S.">CAJACOPI EPS S.A.S.</option>
                                <option value="NUEVA EPS">NUEVA EPS</option>
                                <option value="REGIONAL DE ASEGURAMIENTO N¬∫ 8">REGIONAL DE ASEGURAMIENTO N¬∫ 8</option>
                                <option value="POSITIVA COMPA√ë√çA DE SEGUROS S.A. (ARL)">POSITIVA COMPA√ë√çA DE SEGUROS S.A. (ARL)</option>
                                </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="ESPECIALIDAD">Especialidad *</label>
                            <select id="especialidad_select" name="especialidad_select" required>
                                <option value="">Selecciona una especialidad</option>
                                <option value="CIRUGIA MAXILOFACIAL">CIRUGIA MAXILOFACIAL</option>
                                <option value="ORTOPEDIA">ORTOPEDIA</option>
                                <option value="CIRUGIA PLASTICA">CIRUGIA PLASTICA</option>
                                <option value="NEUROCIRUGIA">NEUROCIRUGIA</option>
                                <option value="CIRUGIA DE TORAX">CIRUGIA DE TORAX</option>
                                <option value="CIRUGIA GENERAL">CIRUGIA GENERAL</option>
                                <option value="GASTROENTEROLOGIA">GASTROENTEROLOGIA</option>
                                <option value="UROLOGIA">UROLOGIA</option>
                                <option value="GINECOLOGIA">GINECOLOGIA</option>
                                <option value="INTENSIVISTA">INTENSIVISTA</option>
                                <option value="MEDICINA INTERNA">MEDICINA INTERNA</option>
                                </select>
                        </div>
                    </div>
                    
                    <!-- OBSERVACI√ìN ADICIONAL (SOLO GOOGLE SHEETS) -->
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="OBSERVACION_ADICIONAL">Observaci√≥n Adicional (Solo para Google Sheets)</label>
                            <textarea id="OBSERVACION_ADICIONAL" name="OBSERVACION_ADICIONAL" rows="2" 
                                    placeholder="Esta observaci√≥n solo se guardar√° en Google Sheets, no aparecer√° en el PDF"></textarea>
                        </div>
                    </div>
                </div>

                <!-- PRODUCTOS / SERVICIOS -->
                <div class="form-section" id="productosSection">
                    <div class="section-header">
                        <h3>Productos / Servicios</h3>
                        <button type="button" id="agregarProductoBtn" class="btn btn-success btn-sm">
                            ‚ûï Agregar Producto
                        </button>
                    </div>
                    
                    <div id="productosContainer">
                        <!-- Producto 1 -->
                        <div class="producto-item" data-index="0">
                            <div class="producto-header">
                                <span>Producto #1</span>
                                <button type="button" class="btn-eliminar-producto btn-danger btn-sm" data-index="0">
                                    ‚úñ Eliminar
                                </button>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <label for="SERVICIO_COTIZADO_0">Descripci√≥n *</label>
                                    <input type="text" class="servicio-cotizado" name="SERVICIO_COTIZADO[]" required 
                                        placeholder="Descripci√≥n del servicio" data-index="0">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="CANTIDAD_0">Cantidad *</label>
                                    <input type="number" class="cantidad" name="CANTIDAD[]" min="1" value="1" required 
                                        placeholder="Cantidad" data-index="0">
                                </div>
                                
                                <div class="form-group">
                                    <label for="VALOR_0">Valor Unitario *</label>
                                    <input type="number" class="valor-unitario" name="VALOR[]" min="0" step="1" required 
                                        placeholder="$" data-index="0">
                                </div>
                                
                                <div class="form-group">
                                    <label for="PORCENTAJE_DESCUENTO_0">% Descuento *</label>
                                    <input type="number" class="porcentaje-descuento" name="PORCENTAJE_DESCUENTO[]" 
                                        min="0" max="100" step="0.1" value="0" required data-index="0">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Totales -->
                    <div class="totales-section">
                        <div class="total-row">
                            <span>Subtotal:</span>
                            <span id="subtotal">$ 0</span>
                        </div>
                        <div class="total-row">
                            <span>Descuento Total:</span>
                            <span id="descuento-total">$ 0</span>
                        </div>
                        <div class="total-row total-final">
                            <span>TOTAL:</span>
                            <span id="total-final">$ 0</span>
                        </div>
                    </div>
                </div>

                <!-- Informaci√≥n adicional (solo para PDF) -->
                <div class="form-section pdf-only">
                    <h3>Informaci√≥n Adicional (Solo PDF)</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="TELEFONO">Tel√©fono</label>
                            <input type="tel" id="TELEFONO" name="TELEFONO" 
                                placeholder="Ej: 3106723072">
                        </div>
                        
                        <div class="form-group">
                            <label for="ADMISION">N¬∞ Admisi√≥n</label>
                            <input type="text" id="ADMISION" name="ADMISION" 
                                placeholder="N√∫mero de admisi√≥n">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="DIRECCION">Direcci√≥n</label>
                            <input type="text" id="DIRECCION" name="DIRECCION" 
                                placeholder="Calle, n√∫mero, barrio">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="DEPARTAMENTO">Departamento</label>
                                <select id="DEPARTAMENTO" name="DEPARTAMENTO" required onchange="actualizarCiudades()">
                                    <option value="">Seleccione un departamento...</option>
                                    <option value="Amazonas">Amazonas</option>
                                    <option value="Antioquia">Antioquia</option>
                                    <option value="Atl√°ntico">Atl√°ntico</option>
                                    <option value="Bol√≠var">Bol√≠var</option>
                                    <option value="Boyac√°">Boyac√°</option>
                                    <option value="Caldas">Caldas</option>
                                    <option value="Caquet√°">Caquet√°</option>
                                    <option value="Casanare">Casanare</option>
                                    <option value="Cauca">Cauca</option>
                                    <option value="Cesar">Cesar</option>
                                    <option value="Choc√≥">Choc√≥</option>
                                    <option value="C√≥rdoba">C√≥rdoba</option>
                                    <option value="Cundinamarca">Cundinamarca</option>
                                    <option value="Guain√≠a">Guain√≠a</option>
                                    <option value="Guaviare">Guaviare</option>
                                    <option value="Huila">Huila</option>
                                    <option value="La Guajira">La Guajira</option>
                                    <option value="Magdalena">Magdalena</option>
                                    <option value="Meta">Meta</option>
                                    <option value="Nari√±o">Nari√±o</option>
                                    <option value="Norte de Santander">Norte de Santander</option>
                                    <option value="Putumayo">Putumayo</option>
                                    <option value="Quind√≠o">Quind√≠o</option>
                                    <option value="Risaralda">Risaralda</option>
                                    <option value="San Andr√©s y Providencia">San Andr√©s y Providencia</option>
                                    <option value="Santander">Santander</option>
                                    <option value="Sucre">Sucre</option>
                                    <option value="Tolima">Tolima</option>
                                    <option value="Valle del Cauca">Valle del Cauca</option>
                                    <option value="Vaup√©s">Vaup√©s</option>
                                    <option value="Vichada">Vichada</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="CIUDAD">CIUDAD</label>
                                <select id="CIUDAD" name="CIUDAD" required disabled>
                                    <option value="">Primero elija un departamento</option>
                                </select>
                            </div>
                        </div>
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="OBSERVACION_GENERAL">Observaci√≥n General (Para PDF) *</label>
                            <textarea id="OBSERVACION_GENERAL" name="OBSERVACION_GENERAL" rows="3" required 
                                    placeholder="Esta observaci√≥n aparecer√° en el PDF"></textarea>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="AUTORIZADO_POR">Autorizado por: *</label>
                            <input type="text" id="AUTORIZADO_POR" name="AUTORIZADO_POR" required 
                                   placeholder="Nombre del autorizador">
                        </div>
                    </div>
                </div>

                <!-- Botones de acci√≥n -->
                <div class="action-buttons">
                    <button type="button" id="vaciarFormulario" class="btn btn-secondary">
                        üóëÔ∏è Vaciar Todo
                    </button>
                    <button type="button" id="guardarImprimirBtn" class="btn btn-success">
                        üíæ Guardar + PDF
                    </button>
                    <button type="button" id="descargarPdfBtn" class="btn btn-primary" disabled>
                        üì• Solo PDF
                    </button>
                </div>
                
                <div id="responseMessage" class="response-message"></div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>







